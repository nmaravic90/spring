<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Nikola Maravic">
<title>Spring CRUD - Movie list</title>
	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/main.css}"/>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
</head>
<body>
<nav class="navbar fixed-top bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="../"><i class="bi bi-x-circle-fill"></i></a>
  </div>
</nav>
	<div class="container text-center">
		<div class="row title text-center">
			<h1>This is movie list</h1>
		</div>

		<div th:if="${message}">
			<div class="alert alert-success" role="alert">[[${message}]]</div>
		</div>
		<table class="table">
			<thead class="thead-dark">
				<tr>
					<th scope="col">#</th>
					<th scope="col">Name</th>
					<th scope="col">Year</th>
					<th scope="col">Rating</th>
					<th scope="col">Edit | Delete</th>
				</tr>
			</thead>
			<tbody>
				<th:block th:each="movie, index : ${movieList}">
					<tr>
						<td>[[${index.count}]]</td>
						<td>[[${movie.name}]]</td>
						<td>[[${movie.year}]]</td>
						<td>[[${movie.rating}]]</td>
						<td>
							<a class="btn btn-warning" th:href="@{'/movie/edit/' + ${movie.id}}" role="button">Edit</a>
							<a class="btn btn-danger" th:href="@{'/movie/delete/' + ${movie.id}}" role="button">Delete</a>
						</td>
					</tr>
				</th:block>
			</tbody>
		</table>
	</div>
</body>
</html>